<!DOCTYPE html>
<html>
<head lang="en">
    <!--Angular is loaded to the global namespace, not using System.js-->
    <!--Some background: http://stackoverflow.com/questions/32257101/why-system-js-returns-an-empty-object-instead-of-angularjs-->
    <script src="../angular/angular.js"></script>

    <!--This is the main module loader-->
    <script src="../systemjs/dist/system.js"></script>

    <!--System.js config settings and angular bootstrap-->
    <script src="../bootstrap.js"></script>

    <link rel="stylesheet" href="../bootstrap/dist/css/bootstrap.min.css">
    
    <script src="AdminController.js"></script>
    
    <link rel="stylesheet" href="admin.css">
    <title>SpaceGame - Admin</title>
</head>
<body>
	<div ng-controller="AdminController as ctrl">
        <span ng-if="Database" class="success">Database is connected</span>
        <span ng-if="!Database" class="fail">Database is disconnected</span>
        <br />
        Auto refresh: ({{refreshtext}}) <input type="textbox" ng-model="refresh" ng-change="ctrl.change()"/>
        <button ng-click="ctrl.stopServer()">Stop server</button>
        <h2>Players</h2>
        <table class="table">
            <tr>
                <th>Player</th>
                <th>Room</th>
            </tr>
            <tr ng-repeat="data in Users">
                <td>{{data.playerName}}</td>
                <td>{{data.room}}</td>
            </tr>
        </table>
        <h2>Rooms</h2>
        <table class="table">
            <tr>
                <th>Name</th>
                <th>Host</th>
                <th>Number of players</th>
            </tr>
            <tr ng-repeat="data in Rooms">
                <td>{{data.name}}</td>
                <td>{{data.host}}</td>
                <td>{{data.numOfPlayers}}</td>
            </tr>
        </table>
	</div>
</body>