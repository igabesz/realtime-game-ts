<!DOCTYPE html>
<html>
<head lang="en">
    <!--Angular is loaded to the global namespace, not using System.js-->
    <!--Some background: http://stackoverflow.com/questions/32257101/why-system-js-returns-an-empty-object-instead-of-angularjs-->
    <script src="/angular/angular.js"></script>

    <!--This is the main module loader-->
    <script src="/systemjs/dist/system.js"></script>

    <!--System.js config settings and angular bootstrap-->
    <script src="/bootstrap.js"></script>

    <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.min.css">
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <title>SpaceGame</title>
</head>

<!--No ng-app, because it is initialized after page load-->
<body id="body">
</body>

<script>
    $(function(){
        var user = localStorage["user"] ? localStorage["user"]:"";
        var token = localStorage["token"] ? localStorage["token"]: "";

        $.ajax({
            url: '/',
            type: 'POST',
            dataType: 'html',
            data: {username: user, token: token},
            success: handleSessionSuccess
        });

        function handleSessionSuccess(data){
            $("#body").html(data);
        }

    })
</script>
</html>